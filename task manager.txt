<%@ Page Language="C#" AutoEventWireup="true" CodeBehind="WebForm1.aspx.cs" Inherits="Task_Manager.WebForm1" %>

<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml">
    
    
   <head runat="server">
       <title>
           <link href="Content/bootstrap.css" rel="stylesheet" />

       </title>
       <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #ff7070;
            margin: 0;
            padding: 0;
        }

        .container {
            margin-top: 20px;
        }

        h2 {
            text-align: center;
            color: #333;
        }

        table {
            width: 100%;
            margin-bottom: 20px;
            border-collapse: collapse;
        }

        th, td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: left;
        }

        th {
            background-color: #f2f2f2;
        }

        .form-control {
            width: 100%;
        }

        .center {
            text-align: center;
        }

        .btn {
            padding: 10px;
            margin-top: 10px;
        }

        #lbl {
            display: block;
            margin-top: 20px;
            text-align: center;
            font-weight: bold;
        }
    </style>
       
       </head>
    <body>
        <form id="form1" runat="server">
     <center>  
         <div><br />
            Welcome To Task Manager<br /><br /><br />
             
         </div ></center> 
   <div>
       <table class="table table-hover">
           <thead>
               <tr>
                   <th>Task Manager</th>
                   <th>Start Date</th>
                   <th>End Date</th>
                   <th>To Whome</th>
                   <th>Owner Of Task</th>
                   <th>Status</th>
                   <th>Comment</th>
                   <th>File Upload</th>
               </tr>
           </thead>
           <tr>
               <td>
                    <asp:DropDownList ID="DropDownList1" runat="server" CssClass="form-control" style="width:150px;">
                                                               <asp:ListItem Value="Select">Select</asp:ListItem>

                <asp:ListItem Value="PPT">PPT</asp:ListItem>
                <asp:ListItem Value="ABC">ABC</asp:ListItem>
                <asp:ListItem></asp:ListItem>
            </asp:DropDownList>
               </td>

               <td>
                   <asp:TextBox ID="TextBox1" runat="server"  CssClass="form-control" TextMode="Date"></asp:TextBox>
               </td>
                    
               <td>
                   <asp:TextBox ID="TextBox2" runat="server"  CssClass="form-control" TextMode="Date" ></asp:TextBox>
               </td>

               <td>
                   <asp:DropDownList ID="DropDownList2" runat="server" style="width:150px;" >
                                                              <asp:ListItem Value="Select">Select</asp:ListItem>

                <asp:ListItem Value="Pravin">Pravin</asp:ListItem>
                <asp:ListItem Value="Mayur">Mayur</asp:ListItem>
            </asp:DropDownList>
               </td>

               <td>
                   <asp:DropDownList ID="DropDownList3" runat="server"  CssClass="form-control" style="width:150px;">
                                       <asp:ListItem Value="Select">Select</asp:ListItem>

                <asp:ListItem Value="Mayur">Mayur</asp:ListItem>
                <asp:ListItem Value="abc">abc</asp:ListItem>
            </asp:DropDownList>
               </td>

               <td>
                   <asp:DropDownList ID="DropDownList4" runat="server"  CssClass="form-control" style="width:150px;">
                                                              <asp:ListItem Value="Select">Select</asp:ListItem>

                <asp:ListItem Value="Completed">Completed</asp:ListItem>
                <asp:ListItem Value="Not Completed">Not Completed</asp:ListItem>
                <asp:ListItem>Working</asp:ListItem>
            </asp:DropDownList>
               </td>

               <td>
                   <asp:TextBox ID="TextBox3" placeholder="Comment" runat="server"  CssClass="form-control" />
                 
               </td>
                <asp:TextBox ID="TextBox4" runat="server" CssClass="form-control" ></asp:TextBox>
               <td>
                    
               </td>

               <td>
                    <asp:FileUpload ID="FileUpload1" runat="server" Height="24px" Width="158"/>
               </td>
           </tr>
       </table>
       <center><asp:Button ID="Button1" runat="server" Text="Add Task" OnClick="Button1_Click" /></center>
   </div>
    
        
        <p>
            &nbsp;
            <center>
            <asp:GridView ID="GridView1" runat="server" OnRowEditing="GridView1_RowEditing" OnRowCancelingEdit="GridView1_RowCancelingEdit"  AutoGenerateColumns="false" OnRowUpdating="GridView1_RowUpdating" OnRowDeleting="GridView1_RowDeleting" DataKeyNames="Id" >
                <Columns>
                    <asp:TemplateField HeaderText="Task Name">
                        <ItemTemplate>
                            <asp:Label ID="TaskNamelbl" Text='<%#Eval("TaskName") %>' runat="server" />
                        </ItemTemplate>
                        <EditItemTemplate>
                            <asp:TextBox ID="TaskNamtxt" Text='<%#Eval("TaskName") %>'  runat="server" />
                        </EditItemTemplate>
                    </asp:TemplateField>

                    <asp:TemplateField HeaderText="Start Date" >
                        <ItemTemplate>
                        <asp:Label Id="StartDatelbl" Text='<%#Eval("StartDate") %>' runat="server" />
                            </ItemTemplate>
                        <EditItemTemplate>
                            <asp:TextBox ID="StartDatetxt" Text='<%#Eval("StartDate") %>' runat="server" />
                        </EditItemTemplate>
                    </asp:TemplateField>

                    <asp:TemplateField HeaderText="End Date" >
                        <ItemTemplate>
                        <asp:Label Id="EndDatelbl" Text='<%#Eval("EndDate") %>' runat="server" />
                            </ItemTemplate>
                        <EditItemTemplate>
                            <asp:TextBox ID="EndDatetxt" Text='<%#Eval("EndDate") %>' runat="server" />
                        </EditItemTemplate>
                    </asp:TemplateField>

                    <asp:TemplateField HeaderText="To Whome" >
                        <ItemTemplate>
                        <asp:Label Id="ToWhomelbl" Text='<%#Eval("ToWhome") %>' runat="server" />
                            </ItemTemplate>
                        <EditItemTemplate>
                            <asp:TextBox ID="ToWhometxt" Text='<%#Eval("ToWhome") %>' runat="server" />
                        </EditItemTemplate>
                    </asp:TemplateField>

                    <asp:TemplateField HeaderText="Owner Of Task" >
                        <ItemTemplate>
                        <asp:Label Id="OwnerOfTasklbl" Text='<%#Eval("OwnerOfTask") %>' runat="server" />
                            </ItemTemplate>
                        <EditItemTemplate>
                            <asp:TextBox ID="OwnerOfTasktxt" Text='<%#Eval("OwnerOfTask") %>' runat="server" />
                        </EditItemTemplate>
                    </asp:TemplateField>

                    <asp:TemplateField HeaderText="Status" >
                        <ItemTemplate>
                        <asp:Label Id="Statuslbl" Text='<%#Eval("Status") %>' runat="server" />
                            </ItemTemplate>
                        <EditItemTemplate>
                            <asp:TextBox ID="Statustxt" Text='<%#Eval("Status") %>' runat="server" />
                        </EditItemTemplate>
                    </asp:TemplateField>

                    <asp:TemplateField HeaderText="Comment" >
                        <ItemTemplate>
                        <asp:Label Id="Commentlbl" Text='<%#Eval("Comment") %>' runat="server" />
                            </ItemTemplate>
                        <EditItemTemplate>
                            <asp:TextBox ID="Commenttxt" Text='<%#Eval("Comment") %>' runat="server" />
                        </EditItemTemplate>
                    </asp:TemplateField>

                    <asp:TemplateField HeaderText="File Upload" >
                        <ItemTemplate>
                        <asp:Label Id="Filelbl" Text='<%#Eval("FileUpload") %>' runat="server" />
                            </ItemTemplate>
                        <EditItemTemplate>
                            <asp:FileUpload ID="FileUpload2" runat="server"/>
                        </EditItemTemplate>
                    </asp:TemplateField>

                    <asp:TemplateField HeaderText="Action">
                        <ItemTemplate>
                            <asp:Button ID="Edit" runat="server" Text="Edit" CommandName="Edit"/>
                            <asp:Button ID="Delete" runat="server" Text="Delete" CommandName="Delete"/>
                        </ItemTemplate>
                        <EditItemTemplate>
                            <asp:Button ID="Update" runat="server" Text="Update" CommandName="Update"/>
                            <asp:Button ID="Cancel" runat="server" Text="Cancel" CommandName="Cancel"/>
                        </EditItemTemplate>
                    </asp:TemplateField>

                    
                    
                    
                </Columns>
                
            </asp:GridView>
            </center>

        </p>
        <asp:Label ID="lbl" runat="server" />
    </form>
   

</body>
</html>











cs 




using System;
using System.Collections.Generic;
using System.Data;
using System.Data.SqlClient;
using System.Linq;
using System.Web;
using System.Web.UI;
using System.Web.UI.WebControls;

namespace Task_Manager
{

    public partial class WebForm1 : System.Web.UI.Page
    {
        SqlConnection connection = new SqlConnection("Data Source =DESKTOP-JNQ67P9\\SQLEXPRESS; Initial Catalog = MVC; Integrated Security = True");

        protected void Page_Load(object sender, EventArgs e)
        {


            if (!IsPostBack)
            {
                LoadRecord();
            }
        }


        public void LoadRecord()

        {
            try
            {
                SqlCommand cmd = new SqlCommand("Select * from Task_manager", connection);
                SqlDataAdapter sda = new SqlDataAdapter(cmd);
                DataTable dt = new DataTable();
                sda.Fill(dt);
                if (dt.Rows.Count > 0)
                {
                    GridView1.DataSource = dt;
                    GridView1.DataBind();
                }
                else
                {
                    dt.Rows.Add(dt.NewRow());
                    GridView1.DataSource = dt;
                    GridView1.DataBind();
                    GridView1.Rows[0].Cells.Clear();
                    GridView1.Rows[0].Cells.Add(new TableCell());
                    GridView1.Rows[0].Cells[0].ColumnSpan = dt.Columns.Count;
                    GridView1.Rows[0].Cells[0].Text = "No Data Found";
                    GridView1.Rows[0].Cells[0].HorizontalAlign = HorizontalAlign.Center;
                }
            }
            catch (Exception)
            {

                throw;
            }
        }
        protected void Button1_Click(object sender, EventArgs e)
        {
            try
            {
                string FileName = string.Empty;
                FileName = FileUpload1.PostedFile.FileName;
                connection.Open();
                SqlCommand cmd = new SqlCommand("insert into Task_manager(TaskName,StartDate,EndDate,ToWhome,OwnerOfTask,Status,Comment,FileUpload)values('" + DropDownList1.SelectedValue + "','" + DateTime.Parse(TextBox1.Text) + "','" + DateTime.Parse(TextBox2.Text) + "','" + DropDownList2.SelectedValue + "','" + DropDownList3.SelectedValue + "','" + DropDownList4.SelectedValue + "','" + TextBox3.Text + "','"+FileName+"')", connection);
                cmd.ExecuteNonQuery();
                ScriptManager.RegisterStartupScript(this, this.GetType(), "script", "alert('Record Inserted Suceesfully');", true);
                LoadRecord();
            }
            catch(Exception ex)
            {
                ScriptManager.RegisterStartupScript(this, this.GetType(), "script", "alert('Record Insertion Failed');", true);
                lbl.Text = ex.Message;
            }
        }

        protected void GridView1_RowEditing(object sender, GridViewEditEventArgs e)
        {
            GridView1.EditIndex = e.NewEditIndex;
            LoadRecord();
        }

        protected void GridView1_RowCancelingEdit(object sender, GridViewCancelEditEventArgs e)
        {
            GridView1.EditIndex = -1;
            LoadRecord();
        }

        protected void GridView1_RowUpdating(object sender, GridViewUpdateEventArgs e)
        {
            try
            {
                connection.Open();
                Int32 key = Convert.ToInt32(GridView1.DataKeys[e.RowIndex].Value);
                TextBox text1 = (GridView1.Rows[e.RowIndex].FindControl("TaskNamtxt") as TextBox);
                TextBox text2 = (GridView1.Rows[e.RowIndex].FindControl("StartDatetxt") as TextBox);
                TextBox text3 = (GridView1.Rows[e.RowIndex].FindControl("EndDatetxt") as TextBox);
                TextBox text4 = (GridView1.Rows[e.RowIndex].FindControl("ToWhometxt") as TextBox);
                TextBox text5 = (GridView1.Rows[e.RowIndex].FindControl("OwnerOfTasktxt") as TextBox);
                TextBox text6 = (GridView1.Rows[e.RowIndex].FindControl("Statustxt") as TextBox);
                TextBox text7 = (GridView1.Rows[e.RowIndex].FindControl("Commenttxt") as TextBox);
                FileUpload File = ((FileUpload)GridView1.Rows[e.RowIndex].FindControl("FileUpload2") as FileUpload);
                string FileName = File.PostedFile.FileName;
                string query = "update Task_Manager set TaskName='" + text1.Text + "',StartDate='" + DateTime.Parse(text2.Text) + "',EndDate='" + DateTime.Parse(text3.Text) + "',ToWhome='" + text4.Text + "',OwnerOfTask='" + text5.Text + "',Status='" + text6.Text + "',Comment='" + text7.Text + "',FileUpload='" + FileName + "' where Id=" + key;
                SqlCommand cmd = new SqlCommand(query, connection);
                cmd.ExecuteNonQuery();
                GridView1.EditIndex = -1;
                ScriptManager.RegisterStartupScript(this, this.GetType(), "script", "alert('Record Updated Suceesfully');", true);
                LoadRecord();
            }
            catch (Exception ex)
            {
                ScriptManager.RegisterStartupScript(this, this.GetType(), "script", "alert('Record Updation Failed');", true);
            }
        }

        protected void GridView1_RowDeleting(object sender, GridViewDeleteEventArgs e)
        {
            Int32 key = Convert.ToInt32(GridView1.DataKeys[e.RowIndex].Value);
            connection.Open();
            string query = "delete Task_Manager Where Id=" + key;
            SqlCommand cmd = new SqlCommand(query,connection);
            cmd.ExecuteNonQuery();
            connection.Close();
            ScriptManager.RegisterStartupScript(this, this.GetType(), "script", "alert('Record Deleted Suceesfully');", true);
            LoadRecord();
        }
    }

}
